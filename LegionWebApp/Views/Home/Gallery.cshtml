@using Microsoft.AspNetCore.Mvc.Localization
@using System.Globalization
@inject IViewLocalizer T
@{
	ViewData["Title"] = @T["Gallery"];



	var Gallery = new Gallery();
	var test = Gallery.ItemList;

	/*
	* TODO
	* 28_07_22 missing letter
	* img or vid first?
	*
	* 10_08_22 missing letter
	* 15/10/22-2 1st vid large rest 2 col
	* 15/10/22-1 1st vid large rest 2 col
							*
							* 23 octob - wide vid
	*/
}
@{
	int i = 1;
	@foreach (var item in Gallery.ItemList)
	{

		int pageSize;
		List<dynamic> temp = new List<dynamic>();
		if (item.FullPage)
		{
			pageSize = 1;
		}
		else
		{
			pageSize = 2;
		}
		if (item.Video != null)
		{
			foreach (var video in item.Video)
			{
				temp.Add(video);

			}
		}
		if (item.Image != null)
		{
			foreach (var image in item.Image)
			{
				temp.Add(image);

			}
		}
		<div class='row-cols-@pageSize row-cols-md-@pageSize'>
			<div class='col'>
				<div class='card' style='background-color:rgba(255, 255, 255, 0.1);'>
					<div class='card-header text-light'>
						@item.Title
					</div>
					<div class='card-body'>
						<div class='row row-cols-4 row-cols-md-4'>
							@foreach (var item2 in temp)
							{
								<div class='col'>
									<div class='col'>
										<div class='card gallery'>
											@if (item2.GetType() == typeof(Image))
											{
												<img src=@item2.Link class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
											}
											else
											{
												<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom" poster=@item2.Poster>
													<source src=@item2.Link type="video/mp4">
												</video>
											}
										</div>
									</div>
								</div>
							}
						</div>
					</div>
				</div>
			</div>
		</div>
	}
}
<!-- Modal -->
<style>
	.fullpage {
		overflow: auto;
		display: none;
		position: fixed;
		z-index: 9999;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-size: contain;
		background-repeat: no-repeat no-repeat;
		background-position: center center;
		background-color: black;
		cursor: zoom-out;
	}

	.prev,
	.next {
		cursor: pointer;
		position: fixed;
		top: 50%;
		width: auto;
		padding: 16px;
		margin-top: -50px;
		color: white;
		font-weight: bold;
		text-decoration: none;
		font-size: 20px;
		transition: 0.6s ease;
		border-radius: 0 3px 3px 0;
		user-select: none;
		-webkit-user-select: none;
		z-index: 9999;
	}

	.next {
		right: 0;
		border-radius: 3px 0 0 3px;
	}

		.prev:hover,
		.next:hover {
			background-color: rgba(0, 0, 0, 0.8);
		}

</style>
<script>
	function CreateModal() {
		const imgs = document.querySelectorAll('.gallery img');
		var modalContent = document.getElementById("ModalContent");
		var oldHtml = modalContent.innerHTML;
		modalContent.innerHTML = "";
		imgs.forEach(img => {
			modalContent.innerHTML += '<div class="mySlides fullpage"style="background-image: url(' + img.src + ');" onclick="closeModal()"></div>';
		});
		modalContent.innerHTML += oldHtml;
	}
	function openModal() {
		CreateModal();
		document.getElementById("ModalContent").style.display = "block";
		var x = document.getElementsByTagName("BODY")[0];
		x.style.overflow = "hidden";
	}
	function closeModal() {
		document.getElementById("ModalContent").style.display = "none";
		var x = document.getElementsByTagName("BODY")[0];
		x.style.overflow = "auto";
	}
	var slideIndex = 1;
	showSlides(slideIndex);
	function plusSlides(n) {
		showSlides(slideIndex += n);
	}
	function currentSlide(n) {
		showSlides(slideIndex = n);
	}
	function showSlides(n) {
		var i;
		var slides = document.getElementsByClassName("mySlides");
		if (n > slides.length) { slideIndex = 1 }
		if (n < 1) { slideIndex = slides.length }
		for (i = 0; i < slides.length; i++) {
			slides[i].style.display = "none";
		}
		slides[slideIndex - 1].style.display = "block";
	}
</script>
<div id="ModalContent" class="modal">
	<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
	<a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<!-- Modal End -->
@{


	//<div class="row row-cols-1 row-cols-md-1">
	//			<div class="col">
	//				<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//					<div class="card-header text-light">
	//						@T[item.Title]
	//					</div>
	//					<div class="card-body">
	//						<div class="row row-cols-4 row-cols-md-4 g-4">
	//							@{
	//								if (item.Video != null)
	//								{
	//									foreach (var video in item.Video)
	//									{
	//										temp.Add(video);
	//										<div class="col">
	//											<div class="card gallery">
	//												<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom" poster=@video.Poster>
	//													<source src=@video.Link type="video/mp4">
	//												</video>
	//											</div>
	//										</div>
	//									}
	//								}
	//							}
	//						</div>
	//						<div class="row row-cols-6 row-cols-md-6 g-4" Data-masonry='{"percentPosition": true }'>
	//							@{
	//								foreach (var image in item.Image)
	//								{
	//									temp.Add(image);
	//									<div class="col">
	//										<div class="card gallery">
	//											<img src=@image.Link class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//										</div>
	//									</div>
	//									i++;
	//								}
	//							}
	//						</div>
	//					</div>
	//				</div>
	//			</div>
	//	</div>


	//	var cultureCookieValue = CultureInfo.CurrentCulture.Name;

	//	foreach (var item in allItems)
	//	{
	//		if (item.Name == "10/08/22" && cultureCookieValue != "uk")
	//		{
	//		<div class="row row-cols-1 row-cols-md-1 g-4">
	//			<div class="col">
	//				<div class="card gallery">
	//					<div class="row">
	//						<div class="col-md-4">
	//							<img src="~/images/Gallery/10.08.22/01.jpg" class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//						</div>
	//						<div class="col-md-8">
	//							<h4 class="card-title">@T["State Border Guard Service of Ukraine Main Military Medical Clinical Center"]</h4>
	//							<h5 class="card-title">@T["To the director of the Charitable Foundation LEGION Alexander Nikiforov"]</h5>
	//							<p class="card-text"><i>@T["On behalf of ourselves and on behalf of our team, we express our sincere gratitude to you for this selfless help to our Main Center. Your help in the form of medical products and hygiene products is an invaluable contribution not only to the cause of medical care, but also to the Sovereignty of our Country, the provision of medical care to our military personnel, and the feeling of support from the staff of our Main Center. Good deeds do not go unmarked - they shine like beacons to those who are waiting for help. I am sure that your example is indicative for other benefactors. By giving help at this difficult time for all of us, you give not just medicines, but give hope that together we will overcome any adversity. May your kindness and generosity return to you a hundredfold. I wish you all the best, health and prosperity. I look forward to further fruitful cooperation within the support of our Main Center."]</i></p>
	//							<p class="card-text"><i><b>@T["Head of the Main Center Colonel of the Medical Service - Volodymyr Lopaychuk August 10, 2022"]</b></i></p>
	//						</div>
	//					</div>
	//				</div>
	//			</div>
	//		</div>
	//			i++;
	//		}
	//		else if (item.Name == "28/07/22")
	//		{
	//		<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//			<div class="card-header text-light">
	//					@T[item.Title]
	//			</div>
	//			<div class="card-body">
	//				<div class="row row-cols-3 row-cols-md-4 g-4">
	//						@{
	//							foreach (var image in item.Image)
	//							{
	//							<div class="col">
	//								<div class="card gallery">
	//									<img src=@image class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//								</div>
	//							</div>
	//								i++;
	//							}
	//						}
	//					<div class="col">
	//						<div class="card gallery">
	//							<div class="row g-0">
	//								<img src="~/images/Gallery/28.07.22/06.jpg" class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//									@{
	//										i++;
	//									}
	//							</div>
	//							<div class="col-md-12">
	//								<b>@T["Thank you letter from Hospital for humanitarian aid.<br />"]</b>
	//							</div>
	//						</div>
	//					</div>
	//						@{
	//							foreach (var video in item.Video)
	//							{
	//							<div class="col">
	//								<div class="card gallery">
	//									<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom" poster=@video.Poster>
	//										<source src=@video.Link type="video/mp4">
	//									</video>
	//								</div>
	//							</div>
	//							}
	//						}
	//				</div>
	//			</div>
	//		</div>
	//		}
	//		else if (item.Name == "23/10/22")
	//		{
	//		<div class="row row-cols-1 row-cols-md-1">
	//			<div class="col">
	//				<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//					<div class="card-header text-light">
	//							@T[item.Title]
	//					</div>
	//					<div class="card-body">
	//						<div class="row row-cols-2 row-cols-md-2 g-2">
	//							<div class="col">
	//								<div class="card gallery">
	//									<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//										<source src=https://legion-foundation.s3.eu-central-1.amazonaws.com/23.10.22/1.mp4 type="video/mp4">
	//									</video>
	//								</div>
	//							</div>
	//							<div class="col">
	//								<div class="row row-cols-2 row-cols-md-2 g-2">
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src=https://legion-foundation.s3.eu-central-1.amazonaws.com/23.10.22/3.mp4 type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src=https://legion-foundation.s3.eu-central-1.amazonaws.com/23.10.22/4.mp4 type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src=https://legion-foundation.s3.eu-central-1.amazonaws.com/23.10.22/2.mp4 type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//											@{
	//											<div class="col">
	//												<div class="card gallery">
	//													<img src="~/images/Gallery/23.10.22/1.jpeg" class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//												</div>
	//											</div>
	//												i++;
	//											}
	//									</div>
	//								</div>
	//							</div>
	//						</div>
	//					</div>
	//				</div>
	//			</div>
	//		</div>
	//		}
	//		else if (item.Name == "15/10/22-1")
	//		{
	//		<div class="row row-cols-2 row-cols-md-2">
	//			<div class="col">
	//				<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//					<div class="card-header text-light">
	//						15.10.22 - @T["Shchaslyve"], @T["Izum Region"]
	//					</div>
	//					<div class="card-body">
	//						<div class="row row-cols-1 row-cols-md-1 g-2">
	//							<div class="col">
	//								<div class="card gallery">
	//									<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//										<source src=@item.Video[2].Link type="video/mp4">
	//									</video>
	//								</div>
	//							</div>
	//							<div class="col">
	//								<div class="row row-cols-2 row-cols-md-2 g-2">
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src=@item.Video[0].Link type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src=@item.Video[1].Link type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//								</div>
	//							</div>
	//						</div>
	//						<div class="row row-cols-3 row-cols-md-3">
	//								@{
	//									foreach (var image in item.Image)
	//									{
	//									<div class="col">
	//										<div class="card gallery">
	//											<img src=@image class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//										</div>
	//									</div>
	//										i++;
	//									}
	//								}
	//						</div>
	//					</div>
	//				</div>
	//			</div>
	//			<div class="col">
	//				<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//					<div class="card-header text-light">
	//						15.10.22 - @T["Lysohirka"], @T["Izum Region"]
	//					</div>
	//					<div class="card-body">
	//						<div class="row row-cols-1 row-cols-md-1 g-2">
	//							<div class="col">
	//								<div class="card gallery">
	//									<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//										<source src=https://legion-foundation.s3.eu-central-1.amazonaws.com/15.10.22+2/4.mp4 type="video/mp4">
	//									</video>
	//								</div>
	//							</div>
	//							<div class="col">
	//								<div class="row row-cols-2 row-cols-md-2 g-2">
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src="https://legion-foundation.s3.eu-central-1.amazonaws.com/15.10.22+2/1.mp4" type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src="https://legion-foundation.s3.eu-central-1.amazonaws.com/15.10.22+2/2.mp4" type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//										<div class="card gallery">
	//											<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom">
	//												<source src="https://legion-foundation.s3.eu-central-1.amazonaws.com/15.10.22+2/3.mp4" type="video/mp4">
	//											</video>
	//										</div>
	//									</div>
	//									<div class="col">
	//											@{
	//											<div class="col">
	//												<div class="card gallery">
	//													<img src="~/images/Gallery/15.10.22-2/1.jpg" class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//												</div>
	//											</div>
	//												i++;
	//											}
	//									</div>
	//								</div>
	//							</div>
	//						</div>
	//					</div>
	//				</div>
	//			</div>
	//		</div>
	//		}
	//		else
	//		{
	//		<div class="card" style="background-color:rgba(255, 255, 255, 0.1);">
	//			<div class="card-header text-light">
	//					@T[item.Title]
	//			</div>
	//			<div class="card-body">
	//				<div class="row row-cols-4 row-cols-md-4 g-4">
	//						@{
	//							foreach (var video in item.Video)
	//							{
	//							<div class="col">
	//								<div class="card gallery">
	//									<video controls disablePictureInPicture controlsList="noplaybackrate nodownload" class="card-img-top card-img-bottom" poster=@video.Poster>
	//										<source src=@video.Link type="video/mp4">
	//									</video>
	//								</div>
	//							</div>
	//							}
	//						}
	//				</div>
	//				<div class="row row-cols-3 row-cols-md-@item.Column g-4">
	//						@{
	//							foreach (var image in item.Image)
	//							{
	//							<div class="col">
	//								<div class="card gallery">
	//									<img src=@image class="card-img-top card-img-bottom" onclick="openModal();currentSlide(@i)" alt="...">
	//								</div>
	//							</div>
	//								i++;
	//							}
	//						}
	//				</div>
	//			</div>
	//		</div>
	//		}
	//	}
}
